{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Job Sheet</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
    <div class="container">
        <div class="form-header">
            <h2>EDIT JOB SHEET</h2>
        </div>

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <label for="client-name">Client Name:</label>
            <input type="text" id="client-name" name="client_name" value="{{ job_sheet.client_name }}">

            <label for="contact-info">Contact Info:</label>
            <input type="text" id="contact-info" name="contact_info" value="{{ job_sheet.contact_info }}">

            <label for="received-date">Received Date:</label>
            <input type="date" id="received-date" name="received_date" value="{{ job_sheet.received_date }}">

            <label for="inventory-received">Inventory Received:</label>
            <input type="text" id="inventory-received" name="inventory_received" value="{{ job_sheet.inventory_received }}">

            <label for="inventory-image">Inventory Image/Document/Video:</label>
            <input type="file" id="inventory-image" name="upload">

            <label for="reported-issues">Reported Issues:</label>
            <input type="text" id="reported-issues" name="reported_issues" value="{{ job_sheet.reported_issues }}">

            <label for="client-notes">Client Notes:</label>
            <textarea id="client-notes" name="client_notes">{{ job_sheet.client_notes }}</textarea>

            <label for="technician">Assigned Technician:</label>
            <input type="text" id="technician" name="assigned_technician" value="{{ job_sheet.assigned_technician }}">

            <label for="amount">Estimated Amount:</label>
            <input type="number" id="amount" name="estimated_amount" value="{{ job_sheet.estimated_amount }}">

            <label for="deadline">Deadline:</label>
            <input type="date" id="deadline" name="deadline" value="{{ job_sheet.deadline }}">

            <label for="status">Status:</label>
            <select id="status" name="status">
                <option value="pending" {% if job_sheet.status == 'pending' %}selected{% endif %}>Pending</option>
                <option value="in-progress" {% if job_sheet.status == 'in-progress' %}selected{% endif %}>In Progress</option>
                <option value="completed" {% if job_sheet.status == 'completed' %}selected{% endif %}>Completed</option>
            </select>
            
            <div class="form-buttons">
                <button type="submit" class="save-btn">Save Changes</button>
                <button type="button" class="cancel-btn" id="cancel-btn">Cancel</button>
            </div>
        </form>
    </div>
</body>
<script>
    document.getElementById('cancel-btn').onclick = function() {
        window.location.href = "{% url 'dashboard' %}";
    };
</script>
</html>
